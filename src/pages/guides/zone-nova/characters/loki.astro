---
import CharacterIndividualLayout from '../../../../layouts/zone-nova/CharacterIndividualLayout.astro';
import CharacterNavigation from '../../../../components/zone-nova/CharacterNavigation.astro';
import CharacterPageTemplate from '../../../../templates/zone-nova/CharacterPageTemplate.astro';
import { lokiData, lokiSEO } from '../../../../data/zone-nova/characters/loki.js';
import { getFactionByCharacter, getFactionData } from '../../../../data/zone-nova/factions.js';

// Get faction data from factions.js
const factionName = getFactionByCharacter('Loki');
const factionData = getFactionData(factionName);
const characterData = {
  ...lokiData,
  faction: factionName,
  factionDescription: factionData?.description,
  factionChineseName: factionData?.chineseName,
};

export const prerender = true;
---

<CharacterIndividualLayout title={lokiSEO.title} description={lokiSEO.description} gameTitle={lokiData.name}>
  <CharacterNavigation currentCharacter={lokiData} />
  <CharacterPageTemplate characterData={characterData} />
</CharacterIndividualLayout>
