---
import ZoneNovaLayout from '../../layouts/zone-nova/Layout.astro';
import FormattedDate from '../../components/FormattedDate.astro';
import { zoneNovaConfig } from '../../data/zone-nova/zone-nova.js';

// Import the landing page CSS
import '../../styles/games/zone-nova/zn-landing-page.css';

// Extract data for easier use in template
const { meta, gameInfo, guides, categoryGroups } = zoneNovaConfig;

// Breadcrumb data for SEO
const breadcrumbs = [
  { name: 'Guides', url: '/guides' },
  { name: 'Zone Nova', url: '/guides/zone-nova' },
];
---

<ZoneNovaLayout
  title={meta.title}
  description={meta.description}
  gameTitle={meta.gameTitle}
  heroImage={meta.heroImage}
  breadcrumbs={breadcrumbs}
>
  <!-- Structured Data for Zone Nova -->
  <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebSite",
      "name": "Zone Nova Wiki & Download - Character Tier Lists, SSR Rankings & Game Database",
      "url": "https://gachawiki.info/guides/zone-nova/",
      "description": "Download Zone Nova - Mythological gacha RPG set in 20XX when mysterious black spheres devastated Earth. Complete character guides, tier lists & free download for Android & iOS.",
      "publisher": {
        "@type": "Organization",
        "name": "GachaWiki",
        "url": "https://gachawiki.info"
      },
      "potentialAction": {
        "@type": "SearchAction",
        "target": "https://gachawiki.info/guides/zone-nova/characters/?search={search_term_string}",
        "query-input": "required name=search_term_string"
      }
    }
  </script>

  <!-- Game-specific structured data -->
  <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "VideoGame",
      "name": "Zone Nova",
      "genre": ["Gacha RPG", "JRPG", "Idle RPG", "Character Collection"],
      "description": "Strategic gacha JRPG set in the year 20XX when mysterious black spheres appeared above cities worldwide, expanding into massive black holes that destroyed everything. Featuring mythological characters, tier-based system, memory cards, and guild raids. Free download for Android & iOS.",
      "keywords": "Zone Nova, Zone Nova download, gacha game, tier list, SSR characters, memory cards, guild raids, rifts, character guide, team building, meta, Zone Nova free download, Zone Nova apk",
      "applicationCategory": "Game",
      "operatingSystem": "Android, iOS",
      "offers": {
        "@type": "Offer",
        "price": "0",
        "priceCurrency": "USD",
        "availability": "https://schema.org/InStock"
      },
      "aggregateRating": {
        "@type": "AggregateRating",
        "ratingValue": "4.5",
        "ratingCount": "1000"
      }
    }
  </script>
  <!-- Game Overview Section -->
  <section class="content-section">
    <h2 class="section-title">About</h2>
    <div class="game-description">
      {gameInfo.description}
    </div>

    <!-- Play Game Button -->
    <div class="play-button-container">
      <a href={gameInfo.playUrl} target="_blank" class="play-button">
        Download & Play Zone Nova
        <span class="play-arrow">â†’</span>
      </a>
    </div>

    <p class="last-updated">
      Last Updated: <FormattedDate date={gameInfo.lastUpdated} />
    </p>
  </section>

  <!-- Guides Section -->
  <section class="content-section">
    <h2 class="section-title">Resources</h2>

    <div class="guides-grid">
      {
        categoryGroups.map(category => (
          <div class={`category-card ${category.size}`}>
            <div class="category-header">
              <span class="category-emoji">{category.emoji}</span>
              <h3>{category.title}</h3>
              <p class="category-description">{category.description}</p>
            </div>
            <div class="nested-guides-grid">
              {category.guides.map(guide => (
                <a
                  href={guide.url}
                  class="nested-guide-card"
                  aria-label={`Navigate to ${guide.title}`}
                >
                  {guide.title}
                </a>
              ))}
            </div>
          </div>
        ))
      }
    </div>
  </section>
</ZoneNovaLayout>
