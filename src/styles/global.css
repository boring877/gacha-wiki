/**
 * ==========================================
 * GLOBAL STYLES - GACHAWIKI APPLICATION
 * ==========================================
 * 
 * Foundation styles that apply to all pages and game sections.
 * This file establishes the baseline for consistent behavior across
 * the entire application.
 * 
 * Features:
 * - Modern CSS Reset (based on Josh Comeau's reset)
 * - Responsive base setup with mobile-first approach
 * - Accessibility optimizations (WCAG AA compliant)
 * - Performance optimizations for fonts and rendering
 * - Common utility classes for layout and interaction
 * - Animation system with reduced motion support
 * - Z-index management system
 * 
 * Browser Compatibility: Modern browsers (ES6+ support)
 * Mobile Support: iOS 12+, Android 8+
 * Responsive Breakpoints: 768px (tablet), 1200px (desktop)
 */

/* === CORE SYSTEMS === */
@import './core/z-index-system.css';

/* === MODERN CSS RESET === */
/* Universal box-sizing ensures predictable sizing behavior */
*,
*::before,
*::after {
  box-sizing: border-box; /* Include padding and border in element's total width/height */
}

/* === ROOT HTML ELEMENT CONFIGURATION === */
html {
  scroll-behavior: smooth; /* Smooth scrolling for anchor links - enhances UX */
  /* Enable native pull-to-refresh on mobile */
  overscroll-behavior-y: auto;
  /* Optimize font rendering */
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* === BODY ELEMENT FOUNDATION === */
body {
  margin: 0; /* Remove default browser margins */
  padding: 0; /* Remove default browser padding */
  font-family:
    system-ui,
    -apple-system,
    sans-serif; /* Modern system font stack */
  line-height: 1.6; /* Optimal reading line height (WCAG recommended) */
  color: var(--text-primary); /* Apply primary text color for contrast */
  width: 100%; /* Ensure body takes full width */
  max-width: 100vw; /* Prevent horizontal overflow issues */
  min-height: 100vh; /* Ensure body fills viewport height */
  /* Enable pull-to-refresh on mobile browsers */
  overscroll-behavior-y: auto;
  /* Prevent white space at bottom on mobile */
  overflow-x: hidden; /* Prevent horizontal scroll */
  position: relative; /* Establish positioning context */
}

/* Preload critical styles to prevent FOUC during navigation */
body::before {
  content: '';
  position: absolute;
  top: -1px;
  left: -1px;
  width: 1px;
  height: 1px;
  opacity: 0;
  pointer-events: none;
}

/* === TYPOGRAPHY RESET === */
/* Remove default margins from typography elements for consistent spacing control */
h1,
h2,
h3,
h4,
h5,
h6,
p,
ul,
ol,
figure,
blockquote {
  margin: 0; /* Reset all margins - allows precise control in component styles */
}

/* === RESPONSIVE MEDIA ELEMENTS === */
/* Ensure all media elements are responsive and prevent layout overflow */
img,
picture,
video,
canvas,
svg {
  display: block; /* Remove inline spacing issues */
  max-width: 100%; /* Prevent media from exceeding container width */
  height: auto; /* Maintain aspect ratio when scaling */
}

/* === BUTTON RESET === */
/* Reset button elements to allow custom styling without browser defaults */
button {
  background: none; /* Remove default button background */
  border: none; /* Remove default button border */
  padding: 0; /* Remove default button padding */
  font: inherit; /* Inherit typography from parent */
  cursor: pointer; /* Indicate interactive element */
}

/* === TOUCH OPTIMIZATION === */
/* Improve touch responsiveness and eliminate 300ms click delays on mobile devices */
button,
[role='button'],
.btn,
.nav-btn,
.skill-card,
.tag-badge,
.filter-select,
.sort-btn,
.reset-btn,
.mobile-character-card,
.awakening-card,
.node-tier,
.clickable,
select,
input[type='button'],
input[type='submit'],
input[type='reset'] {
  touch-action: manipulation; /* Enable fast taps, disable double-tap zoom */
}

/* === ACCESSIBILITY UTILITIES === */

/* Screen reader only text - visually hidden but accessible to assistive technology */
.sr-only {
  position: absolute; /* Remove from normal document flow */
  width: 1px; /* Minimal dimensions */
  height: 1px;
  padding: 0; /* Remove all spacing */
  margin: -1px; /* Pull outside viewport */
  overflow: hidden; /* Hide any overflow */
  clip: rect(0, 0, 0, 0); /* Legacy clipping for older browsers */
  white-space: nowrap; /* Prevent text wrapping */
  border: 0; /* Remove any borders */
}

/* === LAYOUT UTILITIES === */

/* Main content container - provides consistent max-width and centering */
.container {
  max-width: 1200px; /* Optimal reading width for large screens */
  margin: 0 auto; /* Center horizontally */
  padding: 0 1rem; /* Comfortable side margins on all devices */
}

/* === TEXT UTILITIES === */

/* Single-line text truncation with ellipsis */
.truncate {
  overflow: hidden; /* Hide overflowing text */
  text-overflow: ellipsis; /* Show ellipsis (...) for cut-off text */
  white-space: nowrap; /* Prevent text from wrapping to new line */
}

/* === RESPONSIVE DISPLAY UTILITIES === */

/* Mobile-first responsive visibility classes */
.mobile-only {
  display: block; /* Show on mobile by default */
}

.desktop-only {
  display: none; /* Hide on mobile by default */
}

/* Tablet and desktop breakpoint: 768px */
@media (min-width: 768px) {
  .mobile-only {
    display: none; /* Hide mobile-only content on larger screens */
  }

  .desktop-only {
    display: block; /* Show desktop-only content on larger screens */
  }
}

/* === MOBILE LAYOUT ADJUSTMENTS === */
/* Reduce container padding on small screens for better space utilization */
@media (max-width: 768px) {
  .container {
    padding: 0 0.5rem; /* Smaller side margins on mobile devices */
  }
}

/* === ACCESSIBILITY - REDUCED MOTION SUPPORT === */
/* Respect user preferences for reduced motion to prevent vestibular disorders */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important; /* Nearly instant animations */
    animation-iteration-count: 1 !important; /* Only run animations once */
    transition-duration: 0.01ms !important; /* Nearly instant transitions */
    scroll-behavior: auto !important; /* Disable smooth scrolling */
  }
}
