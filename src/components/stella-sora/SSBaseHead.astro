---
// Stella Sora BaseHead - Game-specific meta tags only
// Standard SEO tags (og:*, twitter:*, canonical) are handled by GameSEO
import { SITE_TITLE } from '../../consts';

export interface Props {
  title?: string;
  description?: string;
}

const {
  title = SITE_TITLE,
  description = 'Stella Sora Wiki - Fantasy RPG Trekker Guide, Nova Continent & Strategy',
} = Astro.props;

const metaTitle = title === SITE_TITLE ? SITE_TITLE : `${title} | Stella Sora Wiki`;
const canonicalURL = new URL(Astro.url.pathname, Astro.site).href;
---

<!-- Essential Metadata Only -->
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />

<!-- Favicon -->
<link rel="icon" type="image/x-icon" href="/favicon.ico" />
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png" />
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png" />

<!-- Primary Meta Tags -->
<title>{metaTitle}</title>
<meta name="title" content={metaTitle} />
<meta name="description" content={description} />

<!-- DNS prefetch for game-related domains -->
<link rel="dns-prefetch" href="//stellasora.global" />
<link rel="dns-prefetch" href="//x.com" />
<link rel="dns-prefetch" href="//youtube.com" />
<link rel="dns-prefetch" href="//yo-star.com" />

<!-- Stella Sora Specific Meta -->
<meta name="game:title" content="Stella Sora ステラソラ" />
<meta name="game:genre" content="Fantasy RPG, Gacha, Action Adventure, Top-Down Combat" />
<meta name="game:platform" content="Android, iOS" />
<meta name="game:rating" content="Teen" />
<meta name="game:developer" content="Yostar Limited" />
<meta name="game:publisher" content="Yostar Limited" />

<!-- Structured Data for Game -->
<script
  type="application/ld+json"
  set:html={JSON.stringify({
    '@context': 'https://schema.org',
    '@type': 'VideoGame',
    name: 'Stella Sora ステラソラ',
    alternateName: 'Stella Sora',
    description:
      'Fantasy RPG developed by Yostar, set in the mysterious Nova Continent. As the amnesiac Demon King, explore Star Towers, collect Trekkers, and uncover lost memories through the innovative Cococha system.',
    genre: ['Fantasy RPG', 'Gacha', 'Action Adventure', 'Top-Down Combat'],
    applicationCategory: 'Game',
    operatingSystem: 'Android, iOS',
    gamePlatform: ['Android', 'iOS'],
    contentRating: 'Teen',
    playMode: 'SinglePlayer',
    publisher: {
      '@type': 'Organization',
      name: 'Yostar Limited',
      url: 'https://yo-star.com',
    },
    offers: {
      '@type': 'Offer',
      price: '0',
      priceCurrency: 'USD',
      availability: 'https://schema.org/InStock',
      seller: {
        '@type': 'Organization',
        name: 'Yostar Limited',
      },
    },
    url: canonicalURL,
    sameAs: [
      'https://x.com/StellaSoraEN',
      'https://x.com/StellaSoraJP',
      'https://stellasora.global/',
      'https://www.youtube.com/@StellaSoraJP',
    ],
  })}
/>

<!-- Website Structured Data -->
<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "WebSite",
    "name": "Stella Sora Wiki",
    "alternateName": "Stella Sora ステラソラ Wiki",
    "description": "Complete guide for Stella Sora fantasy RPG. Trekker database, Nova Continent exploration, Cococha system, and strategy walkthrough.",
    "url": "https://gachawiki.info/guides/stella-sora/",
    "potentialAction": {
      "@type": "SearchAction",
      "target": "https://gachawiki.info/guides/stella-sora/characters/?search={search_term_string}",
      "query-input": "required name=search_term_string"
    },
    "publisher": {
      "@type": "Organization",
      "name": "GachaWiki",
      "url": "https://gachawiki.info"
    }
  }
</script>

<!-- Stella Sora Theme CSS Variables (Inline for faster loading) -->
<style>
  :root {
    --ss-theme-color: #7dd3fc;
    --ss-theme-color-dark: #0ea5e9;
    --ss-theme-color-light: #bae6fd;
  }
</style>

<!-- Additional Performance Optimization -->
<link rel="preconnect" href="https://stellasora.global" />
<link rel="preconnect" href="https://x.com" />
<link rel="preconnect" href="https://youtube.com" />
