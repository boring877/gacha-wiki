---
import { Image } from 'astro:assets';

// Import character images
import snowishLaruImg from '../../assets/images/games/stella-sora/Banner_timeline/7/Snowish_Laru.jpg';
import freesiaImg from '../../assets/images/games/stella-sora/Banner_timeline/8/Freesia.png';
import nazukaImg from '../../assets/images/games/stella-sora/Banner_timeline/6/1.png';
import gerieImg from '../../assets/images/games/stella-sora/Banner_timeline/5/Gerie.jpg';
import fuyukaImg from '../../assets/images/games/stella-sora/Banner_timeline/4/Fuyuka.jpg';
import chitoseImg from '../../assets/images/games/stella-sora/Banner_timeline/1/Chitose.jpg';
import shiaImg from '../../assets/images/games/stella-sora/Banner_timeline/2/Shia.jpg';
import nanohaImg from '../../assets/images/games/stella-sora/Banner_timeline/3/Nanoha.jpg';

// Import disc images
import snowishLaruDiscImg from '../../assets/images/games/stella-sora/Banner_timeline/7/Snowish_Laru_disc.jpg';
import freesiaDiscImg from '../../assets/images/games/stella-sora/Banner_timeline/8/Freesia_disc.png';
import nazukaDiscImg from '../../assets/images/games/stella-sora/Banner_timeline/6/2.png';
import gerieDiscImg from '../../assets/images/games/stella-sora/Banner_timeline/5/Gerie_disc.jpg';
import fuyukaDiscImg from '../../assets/images/games/stella-sora/Banner_timeline/4/Fuyuka_disc.jpg';
import chitoseDiscImg from '../../assets/images/games/stella-sora/Banner_timeline/1/Chitose_disc.jpg';
import shiaDiscImg from '../../assets/images/games/stella-sora/Banner_timeline/2/Shia_disc.jpg';
import nanohaDiscImg from '../../assets/images/games/stella-sora/Banner_timeline/3/Nanoha_disc.jpg';

// Image mapping by character name
const characterImages: Record<string, ImageMetadata> = {
  'Snowish Laru': snowishLaruImg,
  Freesia: freesiaImg,
  Nazuka: nazukaImg,
  Gerie: gerieImg,
  Fuyuka: fuyukaImg,
  Chitose: chitoseImg,
  Shia: shiaImg,
  Nanoha: nanohaImg,
};

// Disc image mapping by disc name
const discImages: Record<string, ImageMetadata> = {
  'Snowy Night Surprise': snowishLaruDiscImg,
  'Sunlit Blossom': freesiaDiscImg,
  "Deer's Song": nazukaDiscImg,
  'The Lost Pilgrim': gerieDiscImg,
  Fireworks: fuyukaDiscImg,
  'Sword Against Stream': chitoseDiscImg,
  'Ripples of Nostalgia': shiaDiscImg,
  'Daylight Garden': nanohaDiscImg,
};

export interface Props {
  name: string;
  alt: string;
  type: 'character' | 'disc';
  width?: number;
  height?: number;
}

const { name, alt, type, width = 300, height = 300 } = Astro.props;

// Get the appropriate image based on type
const imageMap = type === 'character' ? characterImages : discImages;
const imageSrc = imageMap[name];
---

{
  imageSrc && (
    <div class={`ss-banner-image ss-banner-image--${type}`}>
      <Image
        src={imageSrc}
        alt={alt}
        width={width}
        height={height}
        class="ss-banner-image__img"
        loading="lazy"
      />
    </div>
  )
}

<style>
  .ss-banner-image {
    border-radius: 12px;
    overflow: hidden;
    flex-shrink: 0;
  }

  .ss-banner-image--character {
    border: 3px solid var(--ss-primary);
  }

  .ss-banner-image--disc {
    border: 3px solid var(--ss-secondary);
  }

  .ss-banner-image__img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    object-position: center;
    display: block;
    border-radius: inherit;
  }
</style>
