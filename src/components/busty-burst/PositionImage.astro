---
import { Image } from 'astro:assets';

// Import position images
import BackImg from '../../assets/images/games/Busty_Burst/Position/Back.png';
import FrontImg from '../../assets/images/games/Busty_Burst/Position/Front.png';
import MidImg from '../../assets/images/games/Busty_Burst/Position/Mid.png';

export interface Props {
  fileName: string;
  alt: string;
  width?: number;
  height?: number;
  class?: string;
  loading?: 'lazy' | 'eager';
}

const { fileName, alt, width = 40, height = 40, class: className, loading = 'lazy' } = Astro.props;

// Map file names to imported image modules
const imageMap: Record<string, ImageMetadata> = {
  'Back.png': BackImg,
  'Front.png': FrontImg,
  'Mid.png': MidImg,
};

// Get the image module based on the fileName
const imageModule = imageMap[fileName];
---

{
  imageModule && (
    <div class={`position-image-wrapper ${className || ''}`}>
      <Image
        src={imageModule}
        alt={alt}
        width={width}
        height={height}
        loading={loading}
        class="position-image"
      />
    </div>
  )
}

<style>
  .position-image-wrapper {
    display: inline-block;
    overflow: hidden;
  }

  .position-image {
    width: 100%;
    height: 100%;
    object-fit: contain;
  }
</style>
