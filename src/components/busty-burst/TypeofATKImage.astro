---
import { Image } from 'astro:assets';

// Import attack type images
import PhysicalImg from '../../assets/images/games/Busty_Burst/TypeofATK/Physical.png';
import MagicImg from '../../assets/images/games/Busty_Burst/TypeofATK/Magic.png';

export interface Props {
  fileName: string;
  alt: string;
  width?: number;
  height?: number;
  class?: string;
  loading?: 'lazy' | 'eager';
}

const { fileName, alt, width = 40, height = 40, class: className, loading = 'lazy' } = Astro.props;

// Map file names to imported image modules
const imageMap: Record<string, ImageMetadata> = {
  'Physical.png': PhysicalImg,
  'Magic.png': MagicImg,
};

// Get the image module based on the fileName
const imageModule = imageMap[fileName];
---

{
  imageModule && (
    <div class={`typeofattk-image-wrapper ${className || ''}`}>
      <Image
        src={imageModule}
        alt={alt}
        width={width}
        height={height}
        loading={loading}
        class="typeofattk-image"
      />
    </div>
  )
}

<style>
  .typeofattk-image-wrapper {
    display: inline-block;
    overflow: hidden;
  }

  .typeofattk-image {
    width: 100%;
    height: 100%;
    object-fit: contain;
  }
</style>
