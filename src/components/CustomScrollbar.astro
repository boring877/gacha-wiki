---
/**
 * Optimized Custom Scrollbar Component
 * Efficiently hides scrollbars across all browsers while maintaining functionality
 * Performance-optimized with minimal specificity and broad coverage
 */
---

<style>
  /**
   * Efficient Universal Scrollbar Hiding
   * Uses minimal selectors for maximum performance
   */

  /* Firefox - Simple and efficient */
  * {
    scrollbar-width: none;
    -ms-overflow-style: none; /* IE/Edge legacy */
  }

  /* WebKit browsers (Chrome, Safari, Edge) - Single universal selector */
  *::-webkit-scrollbar {
    display: none;
    width: 0;
    height: 0;
    background: transparent;
  }

  /* WebKit scrollbar components - Hidden efficiently */
  *::-webkit-scrollbar-track,
  *::-webkit-scrollbar-thumb,
  *::-webkit-scrollbar-corner {
    display: none;
    background: transparent;
  }

  /* Ensure body and html are covered explicitly */
  html,
  body {
    scrollbar-width: none;
    -ms-overflow-style: none;
    overscroll-behavior: none; /* Prevent Android overscroll glow effect */
    -webkit-overflow-scrolling: touch; /* Enable iOS momentum scrolling */
    transform: translateZ(0); /* Force hardware acceleration */
    will-change: scroll-position; /* Optimize for scrolling */
  }

  html::-webkit-scrollbar,
  body::-webkit-scrollbar {
    display: none;
    width: 0;
    height: 0;
  }

  /**
   * Special handling for elements that might override
   * Only target elements that commonly have scrollbars
   */
  .scrollable,
  .overflow-auto,
  .overflow-scroll,
  div[style*='overflow'],
  textarea,
  iframe {
    scrollbar-width: none !important;
    -ms-overflow-style: none !important;
    -webkit-overflow-scrolling: touch !important; /* Enable momentum scrolling */
    transform: translateZ(0); /* Hardware acceleration for scroll containers */
  }

  .scrollable::-webkit-scrollbar,
  .overflow-auto::-webkit-scrollbar,
  .overflow-scroll::-webkit-scrollbar,
  div[style*='overflow']::-webkit-scrollbar,
  textarea::-webkit-scrollbar,
  iframe::-webkit-scrollbar {
    display: none !important;
    width: 0 !important;
    height: 0 !important;
  }

  /**
   * Performance optimization: Use CSS containment
   * Helps browser optimize rendering of this component
   */
  .custom-scrollbar-container {
    contain: style layout;
  }

  /**
   * Mobile Scrolling Performance Optimizations
   * - webkit-overflow-scrolling: touch enables iOS momentum scrolling
   * - transform: translateZ(0) forces hardware acceleration
   * - will-change: scroll-position optimizes for scroll animations
   * - overscroll-behavior: none prevents Android glow effect
   */

  /**
   * Accessibility: Respect user preferences
   * Only disable scrollbars if user hasn't specifically requested them
   */
  @media (prefers-reduced-motion: reduce) {
    /* Remove any potential transitions on scrollbars */
    *::-webkit-scrollbar-thumb {
      transition: none !important;
    }
  }

  /**
   * High contrast mode: Allow scrollbars if needed for accessibility
   */
  @media (prefers-contrast: high) and (prefers-reduced-motion: reduce) {
    /* In high contrast + reduced motion, preserve scrollbars for accessibility */
    * {
      scrollbar-width: auto;
    }

    *::-webkit-scrollbar {
      display: block;
      width: auto;
      height: auto;
    }
  }

  /**
   * Development mode: Allow scrollbars to be visible for debugging
   * Add .show-scrollbars class to body for debugging
   */
  .show-scrollbars * {
    scrollbar-width: auto !important;
    -ms-overflow-style: auto !important;
  }

  .show-scrollbars *::-webkit-scrollbar {
    display: block !important;
    width: auto !important;
    height: auto !important;
    background: #f0f0f0 !important;
  }

  .show-scrollbars *::-webkit-scrollbar-thumb {
    background: #c0c0c0 !important;
    border-radius: 4px !important;
  }
</style>
