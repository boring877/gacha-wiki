---
import SABBaseHead from '../../components/silver-and-blood/SABBaseHead.astro';
import Header from '../../components/Header.astro';
import Footer from '../../components/Footer.astro';
import MobileMenu from '../../components/MobileMenu.astro';
import GameNavigationHeader from '../../components/GameNavigationHeader.astro';
import DecorativeLines from '../../components/DecorativeLines.astro';
import GameSEO from '../../components/GameSEO.astro';
import CustomScrollbar from '../../components/CustomScrollbar.astro';
import Analytics from '../../components/Analytics.astro';
import Breadcrumb from '../../components/silver-and-blood/Breadcrumb.astro';

// Import CSS files
import '../../styles/games/silver-and-blood/sab-colors.css';
import '../../styles/global.css';
import '../../styles/typography.css';
import '../../styles/games/silver-and-blood/sab-layout.css';
import '../../styles/games/silver-and-blood/sab-badge-colours.css';

export interface Props {
  title: string;
  description?: string;
  gameTitle?: string;
}

const { title, description, gameTitle } = Astro.props;
---

<html lang="en">
  <head>
    <SABBaseHead title={title} description={description || ''} />
    <GameSEO
      gameKey="silver-and-blood"
      title={title}
      description={description}
      additionalKeywords={[
        'silver and blood damage mechanics',
        'silver and blood damage calculation',
        'silver and blood damage guide',
        'sab damage mechanics',
        'silver and blood damage formula',
        'damage mechanics calculator',
        'silver and blood damage system',
        'silver and blood combat mechanics',
        'silver and blood damage types',
        'silver and blood stat calculations',
        'silver and blood battle mechanics',
        'silver and blood damage optimization',
      ]}
    />

    <slot name="head" />
    <Analytics />
  </head>
  <body class="sab-body">
    <CustomScrollbar />
    <!-- Background layers for visual depth -->
    <div class="bg-layer sab-bg-primary"></div>
    <div class="bg-layer sab-bg-accent-1"></div>
    <div class="bg-layer sab-bg-accent-2"></div>
    <div class="bg-layer sab-bg-accent-3"></div>

    <div class="sab-content">
      <Header />
      <GameNavigationHeader currentPath={Astro.url.pathname} gameKey="silver-and-blood" />
      <MobileMenu />

      <div class="sab-container">
        <main class="silver-and-blood-main" id="main-content">
          <!-- Title Section -->
          {
            gameTitle && (
              <section class="title-only-section">
                <h1 class="title-only-heading">{gameTitle}</h1>

                <DecorativeLines />
              </section>
            )
          }

          <!-- Breadcrumb Navigation -->
          <Breadcrumb autoGenerate={true} gameKey="silver-and-blood" showBackButton={true} />

          <!-- Content Area -->
          <div class="content-area">
            <slot />
          </div>
        </main>
      </div>

      <Footer />
    </div>
  </body>
</html>
