---
// Clock Landing Layout - Dedicated layout for the clock landing page
import GeneralBaseHead from '../../components/GeneralBaseHead.astro';
import Header from '../../components/Header.astro';
import MobileMenu from '../../components/MobileMenu.astro';
import Footer from '../../components/Footer.astro';
import CustomScrollbar from '../../components/CustomScrollbar.astro';
import GeneralSEO from '../../components/GeneralSEO.astro';
import DecorativeLines from '../../components/DecorativeLines.astro';
import Breadcrumb from '../../components/Breadcrumb.astro';
import { Image } from 'astro:assets';

// Import CSS files
import '../../styles/colors.css';
import '../../styles/global.css';
import '../../styles/typography.css';
import '../../styles/clock/landing.css';

export interface Props {
  title: string;
  description: string;
  games: any[];
}

const { title, description, games } = Astro.props;
---

<!doctype html>
<html lang="en">
  <head>
    <GeneralBaseHead title={title} description={description} />

    <GeneralSEO
      title={title}
      description={description}
      keywords={[
        'Zone Nova daily reset',
        'Zone Nova server restart',
        'Zone Nova server time',
        'Zone Nova maintenance time',
        'Silver and Blood daily reset',
        'Silver and Blood server restart',
        'Silver and Blood server time',
        'Silver and Blood maintenance time',
        'Silver and Blood US server',
        'gacha server time',
        'Zone Nova launch date',
        'Silver and Blood launch date',
        'gacha launch date',
      ]}
      pageType="webapp"
    />
  </head>

  <body>
    <CustomScrollbar />

    <!-- Same background layers as other pages -->
    <div class="bg-layer bg-primary"></div>
    <div class="bg-layer bg-accent-1"></div>
    <div class="bg-layer bg-accent-2"></div>
    <div class="bg-layer bg-accent-3"></div>

    <div class="clock-landing-content">
      <Header />
      <MobileMenu />

      <main class="clock-landing-page">
        <div class="clock-landing-container">
          <!-- Page Title -->
          <section class="title-section">
            <h1 class="page-title">Gacha Clocks</h1>
            <p class="page-subtitle">Server Reset & Related.</p>
            <DecorativeLines />
          </section>

          <!-- Breadcrumb Navigation -->
          <Breadcrumb
            items={[{ name: 'Home', href: '/' }, { name: 'Clocks' }]}
            showBackButton={true}
          />

          <!-- Games Grid -->
          <section class="games-grid-section">
            <div class="games-grid" id="gamesGrid">
              {
                games.map((game, index) => (
                  <article class="game-card" data-game-id={game.id}>
                    <a href={game.url} class="game-card-link">
                      <div class="game-card-image-container">
                        {
                          // Check if the image is an imported Astro Image object or a string path
                          typeof game.image === 'object' ? (
                            <Image
                              class="game-card-image"
                              src={game.image}
                              alt={game.name}
                              loading={index === 0 ? 'eager' : 'lazy'}
                              fetchpriority={index === 0 ? 'high' : 'auto'}
                              width="600"
                              height="338"
                            />
                          ) : (
                            <img
                              class="game-card-image"
                              src={game.image}
                              alt={game.name}
                              loading={index === 0 ? 'eager' : 'lazy'}
                              fetchpriority={index === 0 ? 'high' : 'auto'}
                              width="600"
                              height="338"
                            />
                          )
                        }
                      </div>
                      <div class="game-card-content">
                        <h3 class="game-card-title">{game.name}</h3>
                        <p class="game-card-description">{game.description}</p>
                      </div>
                    </a>
                  </article>
                ))
              }
            </div>
          </section>
        </div>
      </main>
    </div>

    <Footer />

    <!-- Clock Landing Script -->
    <script src="../../scripts/clock/landing.js"></script>
  </body>
</html>
